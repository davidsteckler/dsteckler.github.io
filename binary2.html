<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Binary: The Hidden Language</title>

  <style>
    :root{
      --bg0:#0b0f17;
      --bg1:#0f1626;
      --card: rgba(255,255,255,0.06);
      --card2: rgba(0,0,0,0.20);
      --stroke: rgba(255,255,255,0.12);
      --stroke2: rgba(255,255,255,0.18);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.70);
      --muted2: rgba(255,255,255,0.55);
      --radius: 18px;
      --shadow: 0 22px 70px rgba(0,0,0,0.45);
      --focus: 0 0 0 4px rgba(255,255,255,0.08);
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1100px 700px at 20% -10%, rgba(120,160,255,0.28), transparent 55%),
        radial-gradient(900px 650px at 90% 10%, rgba(255,170,120,0.20), transparent 55%),
        radial-gradient(800px 700px at 50% 110%, rgba(140,255,210,0.14), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }

    .wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: 18px 14px 52px;
    }

    .hero{
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      padding: 16px;
      overflow:hidden;
    }

    .heroTop{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }

    h1{
      margin:0;
      font-size: 22px;
      letter-spacing: 0.2px;
    }
    .subtitle{
      margin-top:6px;
      color:var(--muted);
      line-height:1.45;
      max-width: 75ch;
      font-size: 14px;
    }

    section{
      margin-top: 14px;
      scroll-margin-top: 12px;
    }

    .sectionCard{
      background: var(--card);
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }

    .sectionHeader{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }

    h2{
      margin:0;
      font-size: 16px;
      letter-spacing: 0.2px;
    }
    .tag{
      color: var(--muted2);
      font-size: 12px;
    }

    .explain{
      margin-top: 10px;
      background: var(--card2);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 16px;
      padding: 12px;
      color: rgba(255,255,255,0.82);
      font-size: 14px;
      line-height: 1.55;
    }

    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      margin-top: 14px;
    }
    @media (max-width: 920px){
      .grid2{ grid-template-columns: 1fr; }
    }

    .card{
      background: rgba(0,0,0,0.18);
      border:1px solid rgba(255,255,255,0.12);
      border-radius: 16px;
      padding: 14px;
      overflow:hidden;
    }

    .cardTitle{
      font-weight: 750;
      margin: 2px 0 6px;
      letter-spacing: 0.2px;
    }
    .small{
      color: var(--muted2);
      font-size: 12px;
    }

    .row{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      gap:10px;
      margin-top: 10px;
      color: var(--muted);
      font-size: 14px;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.22);
      color: var(--text);
      font-size: 13px;
      max-width: 100%;
    }

    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-variant-numeric: tabular-nums;
      letter-spacing: 0.2px;
      word-break: break-word;
    }

    .btnRow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 12px;
    }

    button{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,0.07);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 14px;
      cursor: pointer;
      font-size: 14px;
      transition: transform 120ms ease, background 120ms ease, border-color 120ms ease;
      user-select:none;
      white-space:nowrap;
    }
    button:hover{
      background: rgba(255,255,255,0.10);
      border-color: var(--stroke2);
      transform: translateY(-1px);
    }
    button:active{ transform: translateY(0px); }
    button:focus{ outline:none; box-shadow: var(--focus); }

    textarea{
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.24);
      color: var(--text);
      outline: none;
      font-size: 14px;
      width: 100%;
      resize: vertical;
      min-height: 110px;
      line-height: 1.4;
    }
    textarea:focus{ box-shadow: var(--focus); }

    select, input[type="checkbox"]{
      accent-color: rgba(255,255,255,0.85);
    }

    .line{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }

    .result{
      margin-top: 10px;
      color: rgba(255,255,255,0.82);
      font-size: 14px;
    }

    /* Switch */
    .switchRow{
      display:flex;
      align-items:center;
      gap:14px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .switch{
      position: relative;
      display: inline-block;
      width: 62px;
      height: 36px;
    }
    .switch input{
      opacity: 0;
      width: 0;
      height: 0;
    }
    .switchTrack{
      position: absolute;
      inset: 0;
      background-color: rgba(255,255,255,0.20);
      transition: .2s;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      cursor: pointer;
    }
    .switchTrack:before{
      position: absolute;
      content: "";
      height: 28px;
      width: 28px;
      left: 4px;
      bottom: 3px;
      background-color: rgba(255,255,255,0.92);
      transition: .2s;
      border-radius: 999px;
    }
    .switch input:checked + .switchTrack{
      background-color: rgba(120,160,255,0.45);
      border-color: rgba(255,255,255,0.22);
    }
    .switch input:checked + .switchTrack:before{ transform: translateX(26px); }

    .bulbBig{
      width: 56px;
      height: 56px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.22);
      box-shadow: 0 10px 25px rgba(0,0,0,0.30);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      color: rgba(255,255,255,0.88);
    }
    .bulbBig.on{
      background: rgba(255,220,80,0.92);
      color: rgba(0,0,0,0.75);
      box-shadow: 0 0 30px rgba(255,220,80,0.35);
    }

    .srOnly{
      position:absolute;
      width:1px;
      height:1px;
      padding:0;
      margin:-1px;
      overflow:hidden;
      clip:rect(0,0,0,0);
      border:0;
    }

    .mutedBlock{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.45;
      margin-top: 8px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header class="hero">
      <div class="heroTop">
        <div>
          <h1>Binary: The Hidden Language</h1>
          <div class="subtitle">
            Two states. One alphabet for machines. Type a message and watch it turn into bytes.
          </div>
        </div>
        <div class="small">Standalone interactive page</div>
      </div>
    </header>

    <!-- BASICS -->
    <section id="intro">
      <div class="sectionCard">
        <div class="sectionHeader">
          <h2>The power of two choices</h2>
          <div class="tag">0 / 1</div>
        </div>

        <div class="explain">
          Hardware can reliably detect two distinct states. That becomes a bit. Stack bits and you get numbers. Use numbers as codes and suddenly you can store letters, images, anything.
        </div>

        <div class="grid2">
          <div class="card">
            <div class="small">Mini challenge</div>
            <div class="cardTitle">Binary switch pattern</div>
            <div class="small">Flip up to 8 times and watch your pattern build.</div>

            <div class="switchRow">
              <label class="switch" aria-label="Binary switch">
                <input type="checkbox" id="patternSwitch" />
                <span class="switchTrack"></span>
              </label>
              <div id="lightBulb" class="bulbBig">0</div>
            </div>

            <div class="row">
              <span class="chip"><span class="small">State</span> <span id="switchState" class="mono">0</span></span>
              <span class="chip"><span class="small">Flips</span> <span id="flipCount" class="mono">0</span><span class="small">/8</span></span>
            </div>

            <div class="row">
              <span class="chip"><span class="small">Pattern</span> <span id="binaryPattern" class="mono"></span></span>
            </div>

            <div class="btnRow">
              <button id="resetPattern" type="button">Reset</button>
            </div>
          </div>

          <div class="card">
            <div class="small">Quick check</div>
            <div class="cardTitle">What rule is running it?</div>
            <div class="btnRow" style="flex-direction:column; align-items:stretch;">
              <button class="optionBtn" data-answer="random" type="button">It is random</button>
              <button class="optionBtn" data-answer="alternating" type="button">Each flip toggles the state (predictable rule)</button>
              <button class="optionBtn" data-answer="allZeros" type="button">All digits are 0</button>
              <button class="optionBtn" data-answer="allOnes" type="button">All digits are 1</button>
            </div>
            <div id="questionResult" class="result"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- TEXT FOCUS -->
    <section id="text">
      <div class="sectionCard">
        <div class="sectionHeader">
          <h2>Text to binary</h2>
          <div class="tag">Bytes you can copy</div>
        </div>

        <div class="explain">
          One common rule is ASCII: each character becomes a number, then that number is written in 8-bit binary.
          Type a whole message and you will get the full byte string.
        </div>

        <div class="grid2">
          <div class="card">
            <div class="small">Main tool</div>
            <div class="cardTitle">Type multiple letters</div>

            <div class="line">
              <span class="small">Message</span>
              <span class="small">letters, spaces, punctuation</span>
            </div>

            <label class="srOnly" for="messageInput">Message input</label>
            <textarea id="messageInput" placeholder="Type a message, like: HELLO WORLD"></textarea>

            <div class="btnRow">
              <button id="copyBinaryString" type="button">Copy binary</button>
              <button id="copyBytesCsv" type="button">Copy decimals</button>
              <button id="clearMessage" type="button">Clear</button>
              <button id="tryExample" type="button">Example</button>
            </div>

            <div class="row">
              <span class="chip"><span class="small">Characters</span> <span id="charCount" class="mono">0</span></span>
              <span class="chip"><span class="small">Bytes</span> <span id="byteCount" class="mono">0</span></span>
            </div>

            <div class="mutedBlock">
              Tip: this uses 8-bit bytes (0–255). For basic English, ASCII matches nicely. For emoji or many non-English characters, a wider encoding like UTF-8 is used in real systems.
            </div>
          </div>

          <div class="card">
            <div class="small">Output</div>
            <div class="cardTitle">Binary string</div>

            <div class="row" style="margin-top:0;">
              <span class="chip"><span class="small">Format</span>
                <span class="mono" id="formatLabel">8-bit groups separated by spaces</span>
              </span>
            </div>

            <div class="explain" style="margin-top:12px;">
              <div class="line">
                <span class="small">Binary</span>
                <span class="small">ready to copy</span>
              </div>
              <div id="binaryOut" class="mono" style="margin-top:10px; white-space:pre-wrap;"></div>
            </div>

            <div class="explain" style="margin-top:12px;">
              <div class="line">
                <span class="small">Decimal bytes</span>
                <span class="small">same data, different base</span>
              </div>
              <div id="decimalOut" class="mono" style="margin-top:10px; white-space:pre-wrap;"></div>
            </div>

            <div class="explain" style="margin-top:12px;">
              <div class="line">
                <span class="small">Per-character breakdown</span>
                <span class="small">what each byte means</span>
              </div>
              <div id="breakdownOut" class="mono" style="margin-top:10px; white-space:pre-wrap;"></div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script>
    const clamp = (n, min, max) => Math.max(min, Math.min(max, n));
    const toBinary8 = (n) => clamp(Number(n), 0, 255).toString(2).padStart(8, "0");

    async function copyText(text, btnEl){
      try{
        await navigator.clipboard.writeText(text);
        if(btnEl){
          const old = btnEl.textContent;
          btnEl.textContent = "Copied";
          setTimeout(() => btnEl.textContent = old, 900);
        }
      }catch(e){
        alert("Copy failed. Your browser may block clipboard access.");
      }
    }

    // -------------------------
    // Basics: switch pattern
    // -------------------------
    let flipCount = 0;
    const patternSwitch = document.getElementById("patternSwitch");
    const switchState = document.getElementById("switchState");
    const flipCountDisplay = document.getElementById("flipCount");
    const binaryPattern = document.getElementById("binaryPattern");
    const lightBulb = document.getElementById("lightBulb");
    const questionResult = document.getElementById("questionResult");

    function renderBigBulb(isOn){
      lightBulb.classList.toggle("on", isOn);
      lightBulb.textContent = isOn ? "1" : "0";
    }
    renderBigBulb(false);

    patternSwitch.addEventListener("change", function(){
      if(flipCount >= 8){
        patternSwitch.checked = !patternSwitch.checked;
        return;
      }
      flipCount++;
      const state = this.checked ? "1" : "0";
      switchState.textContent = state;
      flipCountDisplay.textContent = flipCount;
      binaryPattern.textContent += state;
      renderBigBulb(this.checked);

      if(flipCount === 8){
        alert("8 flips complete. Your pattern: " + binaryPattern.textContent);
      }
    });

    document.getElementById("resetPattern").addEventListener("click", function(){
      flipCount = 0;
      patternSwitch.checked = false;
      switchState.textContent = "0";
      flipCountDisplay.textContent = "0";
      binaryPattern.textContent = "";
      questionResult.textContent = "";
      renderBigBulb(false);
    });

    document.querySelectorAll(".optionBtn").forEach(btn => {
      btn.addEventListener("click", () => {
        const answer = btn.dataset.answer;
        questionResult.textContent = (answer === "alternating")
          ? "Correct. Each flip toggles the state, so the sequence follows a rule instead of being random."
          : "Not quite. Watch what happens every time you flip. The switch always toggles between two states.";
      });
    });

    // -------------------------
    // Text to binary (multi-letter)
    // -------------------------
    const messageInput = document.getElementById("messageInput");
    const binaryOut = document.getElementById("binaryOut");
    const decimalOut = document.getElementById("decimalOut");
    const breakdownOut = document.getElementById("breakdownOut");
    const charCount = document.getElementById("charCount");
    const byteCount = document.getElementById("byteCount");

    function asPrintable(ch){
      if(ch === " ") return "␠";
      if(ch === "\n") return "\\n";
      if(ch === "\t") return "\\t";
      return ch;
    }

    function renderMessage(){
      const text = messageInput.value || "";
      charCount.textContent = String(text.length);

      const bytes = [];
      const bins = [];
      const lines = [];

      for(let i = 0; i < text.length; i++){
        const ch = text[i];
        const code = text.charCodeAt(i);

        // Keeping it simple and consistent with "8-bit bytes"
        // If code > 255 (emoji etc), we still show the code but clamp for binary.
        // This keeps the UI simple for your lesson.
        const byte = clamp(code, 0, 255);
        bytes.push(byte);
        const bin = toBinary8(byte);
        bins.push(bin);

        const shown = asPrintable(ch);
        lines.push(`${shown}  →  ${byte.toString().padStart(3," ")}  →  ${bin}`);
      }

      byteCount.textContent = String(bytes.length);

      binaryOut.textContent = bins.join(" ");
      decimalOut.textContent = bytes.join(", ");
      breakdownOut.textContent = lines.join("\n");

      if(text.length === 0){
        binaryOut.textContent = "";
        decimalOut.textContent = "";
        breakdownOut.textContent = "";
      }
    }

    messageInput.addEventListener("input", renderMessage);

    document.getElementById("copyBinaryString").addEventListener("click", (e) => {
      const text = binaryOut.textContent || "";
      if(text) copyText(text, e.currentTarget);
    });

    document.getElementById("copyBytesCsv").addEventListener("click", (e) => {
      const text = decimalOut.textContent || "";
      if(text) copyText(text, e.currentTarget);
    });

    document.getElementById("clearMessage").addEventListener("click", () => {
      messageInput.value = "";
      renderMessage();
      messageInput.focus();
    });

    document.getElementById("tryExample").addEventListener("click", () => {
      messageInput.value = "HELLO WORLD";
      renderMessage();
      messageInput.focus();
    });

    renderMessage();
  </script>
</body>
</html>
