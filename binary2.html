<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary: From Simple Switches to Complex Digital Worlds</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        .demo, .challenge {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #2196F3;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .light-bulb {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #f1c40f;
            display: inline-block;
            margin-left: 20px;
            transition: .4s;
        }
        .light-off {
            background-color: #34495e;
        }
        .color-preview {
            width: 100px;
            height: 100px;
            border: 1px solid #000;
            margin-top: 10px;
        }
        input[type="range"] {
            width: 200px;
        }
        .explanation {
            margin-top: 10px;
            padding: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Binary: From Simple Switches to Complex Digital Worlds</h1>
    
    <section id="introduction">
        <h2>The Power of Two Choices</h2>
        <p>Binary is simple: it's just 0s and 1s. But from these two digits, we build the digital world. <a href="https://en.wikipedia.org/wiki/Binary_code" target="_blank">Learn more about binary code</a>.</p>
        <div class="explanation">
            <h3>Explanation Depth: <input type="range" id="binaryExplanationLevel" min="1" max="3" value="1"></h3>
            <div id="binaryExplanation"></div>
        </div>
        <div class="challenge">
            <h3>Challenge: Binary Switch Patterns</h3>
            <p>Flip the switch up to 8 times and observe the binary pattern:</p>
            <label class="switch">
                <input type="checkbox" id="patternSwitch">
                <span class="slider"></span>
            </label>
            <div id="lightBulb" class="light-bulb light-off"></div>
            <p>Switch state: <span id="switchState">0</span></p>
            <p>Flip count: <span id="flipCount">0</span>/8</p>
            <p>Pattern: <span id="binaryPattern"></span></p>
            <button id="resetPattern">Reset</button>
        </div>
    </section>

    <section id="text-representation">
        <h2>From Letters to Binary</h2>
        <p>Every character you type is secretly a number. That number? It's in binary. <a href="https://en.wikipedia.org/wiki/ASCII" target="_blank">Learn more about ASCII</a>.</p>
        <div class="explanation">
            <h3>Explanation Depth: <input type="range" id="textExplanationLevel" min="1" max="3" value="1"></h3>
            <div id="textExplanation"></div>
        </div>
        <div class="demo">
            <input type="text" id="asciiInput" maxlength="1" placeholder="Type a letter">
            <p>ASCII: <span id="asciiOutput"></span></p>
            <p>Binary: <span id="binaryOutput"></span></p>
        </div>
        <div class="challenge">
            <h3>Challenge: Decode a Binary Message</h3>
            <p>Decode this binary message: <span id="binaryMessage"></span></p>
            <input type="text" id="decodedMessage" placeholder="Your answer">
            <button id="checkMessageAnswer">Check Answer</button>
            <p id="messageResult"></p>
        </div>
    </section>

    <section id="color-representation">
        <h2>Colors in Binary</h2>
        <p>Every color on your screen is a mix of red, green, and blue. Each intensity? A number in binary. <a href="https://en.wikipedia.org/wiki/RGB_color_model" target="_blank">Learn more about RGB</a>.</p>
        <div class="explanation">
            <h3>Explanation Depth: <input type="range" id="colorExplanationLevel" min="1" max="3" value="1"></h3>
            <div id="colorExplanation"></div>
        </div>
        <div class="demo">
            <label>Red: <input type="range" id="redSlider" min="0" max="255"> <input type="number" id="redInput" min="0" max="255"></label><br>
            <label>Green: <input type="range" id="greenSlider" min="0" max="255"> <input type="number" id="greenInput" min="0" max="255"></label><br>
            <label>Blue: <input type="range" id="blueSlider" min="0" max="255"> <input type="number" id="blueInput" min="0" max="255"></label><br>
            <div class="color-preview" id="colorPreview"></div>
            <p>RGB Binary: <span id="rgbBinary"></span></p>
        </div>
        <div class="challenge">
            <h3>Challenge: Create a Specific Color</h3>
            <p>Use the sliders to create this color: <span id="targetColor"></span></p>
            <button id="checkColorChallenge">Check Answer</button>
            <p id="colorChallengeResult"></p>
        </div>
    </section>

    <section id="image-representation">
        <h2>Pictures: A Sea of Tiny Lights</h2>
        <p>Images are just grids of numbers. Each number? A color. Each color? Binary. <a href="https://en.wikipedia.org/wiki/Bitmap" target="_blank">Learn more about bitmaps</a>.</p>
        <div class="explanation">
            <h3>Explanation Depth: <input type="range" id="imageExplanationLevel" min="1" max="3" value="1"></h3>
            <div id="imageExplanation"></div>
        </div>
        <div class="demo">
            <canvas id="pixelCanvas" width="150" height="150" style="border:1px solid #000;"></canvas>
            <br>
            <button id="randomizePixels">Randomize Pixels</button>
            <p>Hover over pixels to see their binary representation.</p>
            <p>Binary of selected pixel: <span id="pixelBinary"></span></p>
        </div>
        <div class="challenge">
            <h3>Challenge: Color Depth and Binary</h3>
            <p>Let's explore how many unique colors can be represented with 24-bit color depth.</p>
            <ol>
                <li>How many bits are used for each color channel (Red, Green, Blue)?</li>
                <input type="number" id="bitsPerChannel" min="1" max="8">
                <button onclick="checkBitsPerChannel()">Check</button>
                <p id="bitsResult"></p>
                
                <li>How many unique values can each channel represent?</li>
                <input type="number" id="valuesPerChannel" min="1" max="256">
                <button onclick="checkValuesPerChannel()">Check</button>
                <p id="valuesResult"></p>
                
                <li>Now, calculate the total number of unique colors:</li>
                <input type="number" id="totalColors">
                <button onclick="checkTotalColors()">Check</button>
                <p id="colorsResult"></p>
            </ol>
        </div>
    </section>

    <script>
        // Explanation levels
        const explanations = {
            binary: [
                "Binary is like a light switch: it's either on or off.",
                "Binary uses two digits, 0 and 1, to represent information. It's the foundation of all digital data.",
                "Binary is a base-2 number system. Each digit represents a power of 2, allowing complex data to be encoded using only two states. This system forms the basis of all digital computing and data storage."
            ],
            text: [
                "Letters are turned into numbers, then into binary.",
                "ASCII assigns a unique number to each character, which is then converted to binary. This allows computers to represent text.",
                "ASCII uses 7 bits to represent 128 characters. Extended ASCII and Unicode expand this to include more characters, symbols, and emoji, using more bits per character. This allows computers to represent and process text in virtually any language or script."
            ],
            color: [
                "Colors are made by mixing red, green, and blue light.",
                "Each color is represented by three numbers (0-255) for red, green, and blue intensity. These numbers are then converted to binary.",
                "24-bit color uses 8 bits each for red, green, and blue, allowing for over 16 million unique colors. This binary representation enables computers to display and process a wide spectrum of colors, forming the basis of digital imaging and displays."
            ],
            image: [
                "Images are made up of many tiny colored dots called pixels.",
                "Each pixel's color is stored as a combination of red, green, and blue values. These values are represented in binary.",
                "A typical image uses 24 bits per pixel. For a 1920x1080 image, that's over 6 million pixels, each with its own binary code. This allows for high-resolution images but also requires significant data storage and processing power."
            ]
        };

        function updateExplanation(sectionId, level) {
            const explanationElement = document.getElementById(`${sectionId}Explanation`);
            explanationElement.textContent = explanations[sectionId][level - 1];
        }

        // Set up explanation level sliders
        ['binary', 'text', 'color', 'image'].forEach(section => {
            const slider = document.getElementById(`${section}ExplanationLevel`);
            slider.addEventListener('input', function() {
                updateExplanation(section, this.value);
            });
            updateExplanation(section, 1); // Initialize with level 1
        });

        // Binary switch pattern challenge
        let flipCount = 0;
        const patternSwitch = document.getElementById('patternSwitch');
        const switchState = document.getElementById('switchState');
        const flipCountDisplay = document.getElementById('flipCount');
        const binaryPattern = document.getElementById('binaryPattern');
        const lightBulb = document.getElementById('lightBulb');

        patternSwitch.addEventListener('change', function() {
            if (flipCount < 8) {
                flipCount++;
                const state = this.checked ? '1' : '0';
                switchState.textContent = state;
                flipCountDisplay.textContent = flipCount;
                binaryPattern.textContent += state;
                lightBulb.classList.toggle('light-off', !this.checked);
                
                if (flipCount === 8) {
                    alert("You've completed 8 flips! The pattern you've created is: " + binaryPattern.textContent);
                }
            }
        });

        document.getElementById('resetPattern').addEventListener('click', function() {
            flipCount = 0;
            patternSwitch.checked = false;
            switchState.textContent = '0';
            flipCountDisplay.textContent = '0';
            binaryPattern.textContent = '';
            lightBulb.classList.add('light-off');
        });

        // ASCII to binary converter
        const asciiInput = document.getElementById('asciiInput');
        const asciiOutput = document.getElementById('asciiOutput');
        const binaryOutput = document.getElementById('binaryOutput');
        asciiInput.addEventListener('input', function() {
            if (this.value) {
                const ascii = this.value.charCodeAt(0);
                asciiOutput.textContent = ascii;
                binaryOutput.textContent = ascii.toString(2).padStart(8, '0');
            } else {
                asciiOutput.textContent = '';
                binaryOutput.textContent = '';
            }
        });

        // Decode Binary Message Challenge
        const words = ['HELLO', 'WORLD', 'BINARY', 'CODING', 'FUN', 'LEARN', 'BITS', 'BYTES'];
        function getRandomWord() {
            return words[Math.floor(Math.random() * words.length)];
        }

        function wordToBinary(word) {
            return word.split('').map(char => char.charCodeAt(0).toString(2).padStart(8, '0')).join(' ');
        }

        const binaryMessage = document.getElementById('binaryMessage');
        const randomWord = getRandomWord();
        binaryMessage.textContent = wordToBinary(randomWord);

        document.getElementById('checkMessageAnswer').addEventListener('click', function() {
            const userAnswer = document.getElementById('decodedMessage').value.toUpperCase();
            const result = document.getElementById('messageResult');
            if (userAnswer === randomWord) {
                result.textContent = "Correct! You've successfully decoded the binary message!";
            } else {
                result.textContent = "Not quite. Try again!";
            }
        });

        // RGB color picker
        const redSlider = document.getElementById('redSlider');
        const greenSlider = document.getElementById('greenSlider');
        const blueSlider = document.getElementById('blueSlider');
        const redInput = document.getElementById('redInput');
        const greenInput = document.getElementById('greenInput');
        const blueInput = document.getElementById('blueInput');
        const colorPreview = document.getElementById('colorPreview');
        const rgbBinary = document.getElementById('rgbBinary');

        function updateColor() {
            const r = redSlider.value;
            const g = greenSlider.value;
            const b = blueSlider.value;
            colorPreview.style.backgroundColor = `rgb(${r},${g},${b})`;
            rgbBinary.textContent = `${parseInt(r).toString(2).padStart(8, '0')} ${parseInt(g).toString(2).padStart(8, '0')} ${parseInt(b).toString(2).padStart(8, '0')}`;
            redInput.value = r;
            greenInput.value = g;
            blueInput.value = b;
        }

        redSlider.addEventListener('input', updateColor);
        greenSlider.addEventListener('input', updateColor);
        blueSlider.addEventListener('input', updateColor);
        redInput.addEventListener('input', function() {
            redSlider.value = this.value;
            updateColor();
        });
        greenInput.addEventListener('input', function() {
            greenSlider.value = this.value;
            updateColor();
        });
        blueInput.addEventListener('input', function() {
            blueSlider.value = this.value;
            updateColor();
        });

        updateColor(); // Initialize color preview

        // Color Challenge
        function getRandomColor() {
            return `rgb(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)})`;
        }

        const targetColor = document.getElementById('targetColor');
        const randomColor = getRandomColor();
        targetColor.style.backgroundColor = randomColor;
        targetColor.textContent = randomColor;

        document.getElementById('checkColorChallenge').addEventListener('click', function() {
            const userColor = colorPreview.style.backgroundColor;
            const result = document.getElementById('colorChallengeResult');
            if (userColor === randomColor) {
                result.textContent = "Perfect match! You've recreated the color exactly!";
            } else {
                result.textContent = "Close, but not quite. Try adjusting your values a bit more.";
            }
        });

        // Pixel canvas
        const canvas = document.getElementById('pixelCanvas');
        const ctx = canvas.getContext('2d');
        const pixelSize = 30;
        const gridSize = 5;
        const randomizeButton = document.getElementById('randomizePixels');
        const pixelBinary = document.getElementById('pixelBinary');

        function drawPixelGrid() {
            for (let y = 0; y < gridSize; y++) {
                for (let x = 0; x < gridSize; x++) {
                    const r = Math.floor(Math.random() * 256);
                    const g = Math.floor(Math.random() * 256);
                    const b = Math.floor(Math.random() * 256);
                    ctx.fillStyle = `rgb(${r},${g},${b})`;
                    ctx.fillRect(x * pixelSize, y * pixelSize, pixelSize, pixelSize);
                }
            }
        }

        canvas.addEventListener('mousemove', function(event) {
            const rect = canvas.getBoundingClientRect();
            const x = Math.floor((event.clientX - rect.left) / pixelSize);
            const y = Math.floor((event.clientY - rect.top) / pixelSize);
            const pixel = ctx.getImageData(x * pixelSize, y * pixelSize, 1, 1).data;
            const binary = pixel.slice(0, 3).map(v => v.toString(2).padStart(8, '0')).join(' ');
            pixelBinary.textContent = `${pixel[0]} ${pixel[1]} ${pixel[2]} (${binary})`;
        });

        randomizeButton.addEventListener('click', drawPixelGrid);

        drawPixelGrid();

        // Color depth challenge
        function checkBitsPerChannel() {
            const answer = document.getElementById('bitsPerChannel').value;
            const result = document.getElementById('bitsResult');
            if (answer === '8') {
                result.textContent = "Correct! Each channel (R, G, B) uses 8 bits in 24-bit color.";
            } else {
                result.textContent = "Not quite. Hint: 24 bits total, divided equally among 3 channels.";
            }
        }

        function checkValuesPerChannel() {
            const answer = document.getElementById('valuesPerChannel').value;
            const result = document.getElementById('valuesResult');
            if (answer === '256') {
                result.textContent = "Correct! 8 bits can represent 2^8 = 256 different values (0-255).";
            } else {
                result.textContent = "Not quite. Hint: Think about how many unique numbers you can make with 8 binary digits.";
            }
        }

        function checkTotalColors() {
            const answer = document.getElementById('totalColors').value;
            const result = document.getElementById('colorsResult');
            if (answer === '16777216') {
                result.textContent = "Correct! 24-bit color allows for 256 * 256 * 256 = 16,777,216 unique colors.";
            } else {
                result.textContent = "Not quite. Hint: Consider how many combinations you can make when each of the three color channels (R, G, B) has 256 possible values.";
            }
        }
    </script>
</body>
</html>
